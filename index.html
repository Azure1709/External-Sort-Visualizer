<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="·ª®ng d·ª•ng s·∫Øp x·∫øp t·ªáp nh·ªã ph√¢n s·ª≠ d·ª•ng thu·∫≠t to√°n External Merge Sort v·ªõi visualization">
    <title>Binary File Sorter - S·∫Øp X·∫øp T·ªáp Nh·ªã Ph√¢n</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="background-gradient"></div>

    <main class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">
                <span class="icon">üìä</span>
                Binary File Sorter
            </h1>
            <p class="subtitle">S·∫Øp x·∫øp t·ªáp nh·ªã ph√¢n v·ªõi thu·∫≠t to√°n External Merge Sort</p>
        </header>

        <!-- Main Card -->
        <div class="glass-card main-card">
            <!-- Input Section -->
            <section class="input-section" id="inputSection">
                <h2 class="section-title">üìä Nh·∫≠p d·ªØ li·ªáu</h2>

                <!-- Tab buttons -->
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="random">üé≤ Random</button>
                    <button class="tab-btn" data-tab="manual">‚úèÔ∏è Nh·∫≠p tay</button>
                    <button class="tab-btn" data-tab="file">üìÅ T·∫£i file</button>
                </div>

                <!-- Random Tab -->
                <div class="tab-content active" id="randomTab">
                    <div class="random-controls">
                        <div class="input-group">
                            <label>S·ªë l∆∞·ª£ng ph·∫ßn t·ª≠:</label>
                            <input type="number" id="randomCount" value="20" min="2" max="100">
                        </div>
                        <div class="input-group">
                            <label>Gi√° tr·ªã nh·ªè nh·∫•t:</label>
                            <input type="number" id="randomMin" value="1" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Gi√° tr·ªã l·ªõn nh·∫•t:</label>
                            <input type="number" id="randomMax" value="100" step="0.1">
                        </div>
                        <button class="btn btn-primary" id="generateBtn">
                            <span class="btn-icon">üé≤</span>
                            T·∫°o d√£y s·ªë ng·∫´u nhi√™n
                        </button>
                    </div>
                </div>

                <!-- Manual Tab -->
                <div class="tab-content" id="manualTab">
                    <div class="manual-input">
                        <p class="input-hint">Nh·∫≠p c√°c s·ªë c√°ch nhau b·∫±ng d·∫•u c√°ch ho·∫∑c d·∫•u ph·∫©y:</p>
                        <textarea id="manualInput" placeholder="V√≠ d·ª•: 23 87 15 67 34 92 5 77 11 42"></textarea>
                        <button class="btn btn-primary" id="parseBtn">
                            <span class="btn-icon">‚úÖ</span>
                            S·ª≠ d·ª•ng d√£y s·ªë n√†y
                        </button>
                    </div>
                </div>

                <!-- File Tab -->
                <div class="tab-content" id="fileTab">
                    <div class="upload-zone" id="uploadZone">
                        <div class="upload-icon">üìÅ</div>
                        <h3>K√©o th·∫£ t·ªáp v√†o ƒë√¢y</h3>
                        <p>ho·∫∑c</p>
                        <label class="upload-btn" for="fileInput">Ch·ªçn t·ªáp nh·ªã ph√¢n</label>
                        <input type="file" id="fileInput" accept=".bin,.dat" hidden>
                        <p class="upload-hint">H·ªó tr·ª£: .bin, .dat (s·ªë th·ª±c 8-bytes Double)</p>
                    </div>
                </div>
            </section>

            <!-- Data Preview -->
            <section class="data-preview hidden" id="dataPreview">
                <h3>üìã D·ªØ li·ªáu ƒë·∫ßu v√†o (<span id="elementCount">0</span> ph·∫ßn t·ª≠)</h3>
                <div class="data-display" id="dataDisplay"></div>
            </section>

            <!-- Control Section -->
            <section class="control-section hidden" id="controlSection">
                <button class="btn btn-primary" id="sortBtn">
                    <span class="btn-icon">‚ö°</span>
                    B·∫Øt ƒë·∫ßu s·∫Øp x·∫øp
                </button>
                <button class="btn btn-secondary" id="resetBtn">
                    <span class="btn-icon">üîÑ</span>
                    Ch·ªçn t·ªáp kh√°c
                </button>
            </section>

            <!-- Progress Section -->
            <section class="progress-section hidden" id="progressSection">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p class="progress-text" id="progressText">ƒêang x·ª≠ l√Ω...</p>
            </section>

            <!-- Visualization Section -->
            <section class="visualization-section hidden" id="visualizationSection">
                <h3 class="viz-title">Qu√° tr√¨nh s·∫Øp x·∫øp</h3>
                <div class="viz-container" id="vizContainer"></div>
                <div class="viz-controls">
                    <button class="btn btn-small" id="prevStepBtn">‚èÆ Tr∆∞·ªõc</button>
                    <button class="btn btn-small btn-primary" id="playPauseBtn">‚ñ∂ Ch·∫°y</button>
                    <button class="btn btn-small" id="nextStepBtn">Sau ‚è≠</button>
                    <div class="speed-control">
                        <label>T·ªëc ƒë·ªô:</label>
                        <input type="range" id="speedSlider" min="1" max="10" value="5">
                    </div>
                </div>
                <div class="viz-legend">
                    <div class="legend-item">
                        <span class="legend-color comparing"></span>
                        <span>ƒêang so s√°nh</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color merging"></span>
                        <span>ƒêang tr·ªôn</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color sorted"></span>
                        <span>ƒê√£ s·∫Øp x·∫øp</span>
                    </div>
                </div>
            </section>

            <!-- Result Section -->
            <section class="result-section hidden" id="resultSection">
                <div class="result-icon">‚úÖ</div>
                <h3>S·∫Øp x·∫øp ho√†n t·∫•t!</h3>
                <p class="result-stats" id="resultStats"></p>
                <button class="btn btn-primary btn-large" id="downloadBtn">
                    <span class="btn-icon">üíæ</span>
                    T·∫£i xu·ªëng t·ªáp k·∫øt qu·∫£
                </button>
            </section>
        </div>

        <!-- Algorithm Info -->
        <div class="glass-card info-card">
            <h3>üìö V·ªÅ thu·∫≠t to√°n External Merge Sort</h3>
            <div class="algorithm-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Chia (Divide)</strong>
                        <p>Chia d·ªØ li·ªáu th√†nh c√°c "runs" nh·ªè v·ª´a v·ªõi b·ªô nh·ªõ</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>S·∫Øp x·∫øp (Sort)</strong>
                        <p>S·∫Øp x·∫øp t·ª´ng run trong b·ªô nh·ªõ</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Tr·ªôn (Merge)</strong>
                        <p>Tr·ªôn c√°c runs ƒë√£ s·∫Øp x·∫øp th√†nh m·ªôt m·∫£ng ho√†n ch·ªânh</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>ƒê∆∞·ª£c x√¢y d·ª±ng v·ªõi ‚ù§Ô∏è cho DSA++ | Binary File Sorter v1.0</p>
    </footer>

    <script src="js/app.js"></script>
</body>

</html>